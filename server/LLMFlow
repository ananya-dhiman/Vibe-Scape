1. User query:
   city = "Delhi"
   category = "cafe"
   vibe = "aesthetic"

2. Check MongoDB:
   Find matching location documents with:
   - city = delhi
   - category = cafe
   - vibe_tags includes "aesthetic"

3. If â‰¥ 5 matches â†’ Return those ğŸ¯
Option if user not interested load more option to carry out the following 

4. Else â†’
   - ğŸ” Tom Tom API: fetch places in "Delhi" with category = "cafe"
   - ğŸ’¬ For each place:
        - Use name/keywords to do Reddit search (e.g., "Cafe 26 Delhi review site:reddit.com")
        - Scrape 3â€“5 top comments or post bodies
   - ğŸ§  Pass raw_reviews to LLM
   - ğŸ¨ Get summarized_vibe, tags, citations, emojis
   - ğŸ’¾ Save enriched location in DB
   - âœ… Return to user


/*  
ğŸ” FULL FLOW: Place Discovery & Search (LLM + RAG-Enhanced)

User Input (Natural Language)
    â†“
ğŸ§  LLM Classifier (via LangChain)
    â†’ Classifies intent from user query
    â†’ Output: Either "place_search" or "place_detail"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Intent: "place_search"       â”‚ Intent: "place_detail"            â”‚
â”‚                              â”‚                                    â”‚
â”‚ â¤ Convert to structured JSON â”‚ â¤ Use place name to search Mongo  â”‚
â”‚   query (city, category,     â”‚   for one specific place           â”‚
â”‚   vibe_tags, etc.)           â”‚                                    â”‚
â”‚                              â”‚ â¤ LLM generates a summary          â”‚
â”‚ â¤ Enters Search Flow         â”‚   response using DB + memory       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

=====================
ğŸ” SEARCH FLOW (if "place_search")
=====================

[1] ğŸ“¥ Accept user query (structured JSON)
      â†’ { city, category, vibe_tags }

[2] ğŸ§  Store query in:
      a) Memory (LangChain)
      b) MongoDB user profile (for personalization)

[3] ğŸ” Search MongoDB for places matching:
      â†’ city, category, vibe_tags
      â†’ If â‰¥ 5 results â†’ return them directly

[4] ğŸš¨ If < 5 results:
    â†’ Fallback: Call TomTom API for more places in that city/category

[5] ğŸ•µï¸ Scrape Reddit for each new TomTom place:
      â†’ Query: "<place name> <city> review site:reddit.com"
      â†’ Fetch 3â€“5 relevant posts/comments

[6] ğŸ§  LLM Post-Processing:
    â†’ For each place, summarize reviews
    â†’ Extract vibe tags (e.g., â€œaestheticâ€, â€œcozyâ€)
    â†’ Suggest 2â€“3 emojis to represent the place

[7] ğŸ’¾ Store in MongoDB:
    â†’ original: { name, category, coordinates, etc. }
    â†’ processed: { summary, vibe_tags, emojis }
    â†’ reviews: [ { source: "reddit", content: "..." } ]

[8] ğŸ” Re-run MongoDB search with original filter
      â†’ Use updated dataset
      â†’ Return 5 enriched, matching places

=====================
ğŸ§  Memory Update (Optional)
=====================
â†’ Log user preferences
â†’ Update profile with:
    - Top vibes searched
    - Places interacted with
*/

